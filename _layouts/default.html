<!DOCTYPE html>
<html lang="en" data-color-mode="light" data-light-theme="light" data-dark-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>{% if page.title %}{{ page.title }} - {{ site.title | default: "Notes" }}{% else %}{{ site.title | default: "Notes" }}{% endif %}</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown-light.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" crossorigin="anonymous">

    <style>
        body {
            margin: 0; padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
            line-height: 1.5; background-color: #ffffff; color: #24292f;
        }
        .markdown-body {
            box-sizing: border-box; min-width: 200px; max-width: 980px;
            margin: 0 auto; padding: 45px;
        }
        @media (max-width: 767px) { .markdown-body { padding: 15px; } }

        /* --- HOME LINK STYLE --- */
        .site-home-link {
            display: block; /* Make it a block to take full width available for margin */
            margin-bottom: 20px; /* Space below the link */
            font-size: 0.9em;
            text-decoration: none;
            color: #0969da; /* GitHub link blue */
        }
        .site-home-link:hover {
            text-decoration: underline;
        }
        /* --- END HOME LINK STYLE --- */

        .markdown-body h1 { font-size: 2em; font-weight: 600; padding-bottom: .3em; border-bottom: 1px solid #d8dee4; margin-top: 24px; margin-bottom: 16px; }
        .markdown-body h2 { font-size: 1.5em; font-weight: 600; padding-bottom: .3em; border-bottom: 1px solid #d8dee4; margin-top: 24px; margin-bottom: 16px; }
        .markdown-body h3 { font-size: 1.25em; font-weight: 600; margin-top: 24px; margin-bottom: 16px; }
        .markdown-body h4 { font-size: 1em; font-weight: 600; margin-top: 24px; margin-bottom: 16px; }
        .markdown-body h5 { font-size: .875em; font-weight: 600; margin-top: 24px; margin-bottom: 16px; }
        .markdown-body h6 { font-size: .85em; font-weight: 600; color: #57606a; margin-top: 24px; margin-bottom: 16px; }
        .markdown-body > *:first-child, .markdown-body > h1:first-child, .markdown-body > h2:first-child, .markdown-body > h3:first-child { margin-top: 0 !important; }

        .markdown-body code, .markdown-body pre { font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace; font-size: 85%; }
        .markdown-body pre { background-color: #f6f8fa; padding: 16px; overflow: auto; border-radius: 6px; line-height: 1.45; }
        .markdown-body code:not(pre code) { background-color: rgba(175,184,193,0.2); padding: .2em .4em; margin: 0; border-radius: 6px; }

        .markdown-body table { border-collapse: collapse; display: block; width: 100%; overflow: auto; margin-top: 0; margin-bottom: 16px; }
        .markdown-body table th, .markdown-body table td { border: 1px solid #d0d7de; padding: 6px 13px; }
        .markdown-body table th { font-weight: 600; }
        .markdown-body table tr { background-color: #ffffff; border-top: 1px solid #d0d7de; }
        .markdown-body table tr:nth-child(2n) { background-color: #f6f8fa; }
    </style>

    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" crossorigin="anonymous"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false},
                    {left: '\\(', right: '\\)', display: false}, {left: '\\[', right: '\\]', display: true}
                ],
                throwOnError: false
            });
        });
    </script>
</head>
<body>
    <article class="markdown-body">
        <!-- ADDED HOME LINK HERE -->
        <a href="{{ "/" | relative_url }}" class="site-home-link">← Home</a> 
        <!-- OR: <a href="{{ site.baseurl }}/" class="site-home-link">← Home</a> -->

        {{ content }}
    </article>
</body>
</html>